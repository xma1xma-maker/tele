<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>TON Clicker V12</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #101010; --card: #1f1f2e;
            --ton: #0098EA; /* Ù„ÙˆÙ† Ø¹Ù…Ù„Ø© ØªÙˆÙ† Ø§Ù„Ø±Ø³Ù…ÙŠ */
            --text: #ffffff; --danger: #ff4050; --success: #29cc7a;
        }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; outline: none; user-select: none; }
        body {
            font-family: 'Tajawal', sans-serif; background-color: var(--bg); color: var(--text);
            margin: 0; height: 100vh; display: flex; flex-direction: column; overflow: hidden;
            background-image: radial-gradient(circle at 50% 0%, #004080, #000); transition: 0.3s;
        }

        /* --- Ø§Ù„Ù‡ÙŠØ¯Ø± ÙˆØ§Ù„Ø¹Ø¯Ø§Ø¯ --- */
        .header { padding: 15px; display: flex; justify-content: space-between; align-items: center; }
        .lang-btn { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.2); color: #fff; padding: 5px 10px; border-radius: 8px; cursor: pointer; }

        .score-box { text-align: center; margin-top: 5px; }
        .score-val { font-size: 3.8rem; font-weight: 900; color: #fff; text-shadow: 0 0 20px var(--ton); }
        .score-label { color: #888; font-size: 0.9rem; margin-top: -10px; display: block; }

        /* Ø´Ø±ÙŠØ· Ø§Ù„Ù…ÙŠØ²Ø§Øª */
        .features-bar { display: flex; justify-content: center; gap: 12px; margin: 10px 0; }
        .feat-btn {
            background: rgba(255,255,255,0.08); width: 55px; height: 55px; border-radius: 15px;
            display: flex; align-items: center; justify-content: center; font-size: 1.6rem; cursor: pointer;
            border: 1px solid rgba(255,255,255,0.1); transition: 0.2s;
        }
        .feat-btn:active { transform: scale(0.9); background: var(--ton); }

        /* --- Ø¹Ù…Ù„Ø© TON --- */
        .game-area { flex-grow: 1; display: flex; justify-content: center; align-items: center; }
        
        .ton-coin {
            width: 240px; height: 240px; border-radius: 50%;
            background: var(--ton);
            box-shadow: 0 0 50px rgba(0, 152, 234, 0.4), inset 0 10px 30px rgba(255,255,255,0.3);
            display: flex; align-items: center; justify-content: center;
            cursor: pointer; transition: transform 0.08s; position: relative;
            border: 5px solid rgba(255,255,255,0.1);
        }
        .ton-coin:active { transform: scale(0.94); }
        
        /* Ø±Ø³Ù…Ø© Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬ÙˆÙ‡Ø±Ø© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø¹Ù…Ù„Ø© */
        .ton-logo {
            width: 120px; height: 120px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3E%3Cpath d='M12 22L1.5 8 12 2l10.5 6L12 22zm0-2.5l8-10-8-5.5-8 5.5 8 10z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: center;
            filter: drop-shadow(0 5px 10px rgba(0,0,0,0.2));
        }

        /* --- Ø§Ù„ÙÙˆØªØ± --- */
        .energy-box { margin: 0 20px 10px; background: var(--card); padding: 10px 15px; border-radius: 12px; }
        .bar-bg { background: #000; height: 8px; border-radius: 5px; margin-top: 5px; overflow: hidden; }
        .bar-fill { height: 100%; width: 100%; background: linear-gradient(90deg, #fff, var(--ton)); transition: width 0.3s; }

        .nav { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; padding: 10px 20px 30px; padding-bottom: calc(20px + env(safe-area-inset-bottom)); }
        .nav-btn {
            background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); color: #fff;
            padding: 12px; border-radius: 12px; font-weight: bold; font-size: 0.9rem; cursor: pointer;
            display: flex; flex-direction: column; align-items: center;
        }

        /* --- Ø§Ù„Ù†ÙˆØ§ÙØ° --- */
        .modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 999;
            display: flex; align-items: flex-end; justify-content: center;
            opacity: 0; visibility: hidden; transition: 0.3s; backdrop-filter: blur(5px);
        }
        .modal.active { opacity: 1; visibility: visible; }
        .modal-content {
            background: #181825; width: 100%; max-width: 500px;
            border-radius: 25px 25px 0 0; padding: 25px; border-top: 3px solid var(--ton);
            transform: translateY(100%); transition: 0.3s; max-height: 85vh; overflow-y: auto;
        }
        .modal.active .modal-content { transform: translateY(0); }

        /* --- ØªØµÙ…ÙŠÙ… Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸ Ø¨Ø§Ù„Ø£Ø±Ù‚Ø§Ù… --- */
        .wheel-container { position: relative; width: 220px; height: 220px; margin: 0 auto 20px; }
        .wheel { 
            width: 100%; height: 100%; border-radius: 50%; border: 5px solid #fff; 
            background: conic-gradient(#ff4050 0 60deg, #ff9f1a 60deg 120deg, #fff200 120deg 180deg, #29cc7a 180deg 240deg, #18dcff 240deg 300deg, #7d5fff 300deg 360deg);
            transition: transform 4s cubic-bezier(0.25, 0.1, 0.25, 1);
            position: relative;
        }
        .wheel-arrow { 
            position: absolute; top: -15px; left: 50%; transform: translateX(-50%); 
            width: 0; height: 0; border-left: 15px solid transparent; border-right: 15px solid transparent; border-top: 25px solid #fff; z-index: 10; 
        }
        /* Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø¬Ù„Ø© */
        .w-num { position: absolute; top: 50%; left: 50%; transform-origin: 0 0; font-weight: bold; font-size: 0.9rem; color: #000; width: 100px; padding-left: 40px; }

        /* Ø¹Ù†Ø§ØµØ± Ø¹Ø§Ù…Ø© */
        .task-row { background: #222; padding: 12px; border-radius: 10px; margin-bottom: 8px; display: flex; justify-content: space-between; align-items: center; }
        .quiz-opt { background: #2a2a3a; padding: 15px; margin-bottom: 8px; border-radius: 10px; cursor: pointer; text-align: right; }
        .btn { width: 100%; padding: 15px; background: var(--ton); border: none; border-radius: 12px; color: #fff; font-weight: bold; margin-top: 10px; cursor: pointer; }
        .inp { width: 100%; background: #000; border: 1px solid #333; padding: 12px; color: #fff; border-radius: 10px; margin-bottom: 10px; }

    </style>
</head>
<body id="body">

    <div class="header">
        <button class="lang-btn" onclick="toggleLang()" id="lang-icon">ğŸ‡ºğŸ‡¸ EN</button>
        <div style="font-size:0.8rem; opacity:0.7">Admin V12</div>
    </div>

    <div class="score-box">
        <div class="score-val" id="score">0</div>
        <span class="score-label" data-key="score_title">TON Points</span>
    </div>

    <div class="features-bar">
        <div class="feat-btn" onclick="checkDaily()">ğŸ“…</div>
        <div class="feat-btn" onclick="openModal('wheel')">ğŸ¡</div>
        <div class="feat-btn" onclick="openModal('codes')">ğŸ</div>
    </div>

    <div class="game-area">
        <div class="ton-coin" id="coin" onclick="tap(event)">
            <div class="ton-logo"></div>
        </div>
    </div>

    <div class="energy-box">
        <div style="display:flex; justify-content:space-between; font-size:0.9rem">
            <span data-key="energy_title">Energy</span>
            <span id="energy-txt">100/100</span>
        </div>
        <div class="bar-bg"><div class="bar-fill" id="energy-bar"></div></div>
    </div>

    <div class="nav">
        <button class="nav-btn" onclick="openModal('shop')">ğŸ›’ <span data-key="shop_btn">Shop</span></button>
        <button class="nav-btn" onclick="openModal('tasks')">ğŸ“‹ <span data-key="tasks_btn">Tasks</span></button>
        <button class="nav-btn" onclick="openModal('quiz')">â“ <span data-key="quiz_btn">Quiz</span></button>
    </div>

    <div class="modal" id="wheel">
        <div class="modal-content" style="text-align:center">
            <h2 data-key="wheel_title">Spin & Win ğŸ¡</h2>
            
            <div class="wheel-container">
                <div class="wheel-arrow"></div>
                <div class="wheel" id="wheel-el">
                    <div class="w-num" style="transform: rotate(30deg) translateY(-50%)">100</div>
                    <div class="w-num" style="transform: rotate(90deg) translateY(-50%)">500</div>
                    <div class="w-num" style="transform: rotate(150deg) translateY(-50%)">0</div>
                    <div class="w-num" style="transform: rotate(210deg) translateY(-50%)">1000</div>
                    <div class="w-num" style="transform: rotate(270deg) translateY(-50%)">250</div>
                    <div class="w-num" style="transform: rotate(330deg) translateY(-50%)">50</div>
                </div>
            </div>
            
            <button class="btn" onclick="spinWheel()" id="spin-btn" data-key="spin_btn">SPIN (-100 Pts)</button>
            <button class="btn" style="background:#222" onclick="closeModal('wheel')" data-key="close_btn">Close</button>
        </div>
    </div>

    <div class="modal" id="quiz">
        <div class="modal-content">
            <h2 data-key="quiz_title">Flag Quiz â“</h2>
            <div id="quiz-container">
                <h3 id="q-text" style="text-align:center; margin-bottom:20px; font-size:1.5rem"></h3>
                <div id="q-options"></div>
            </div>
            <button class="btn" style="background:#222" onclick="closeModal('quiz')" data-key="close_btn">Close</button>
        </div>
    </div>

    <div class="modal" id="tasks">
        <div class="modal-content">
            <h2 data-key="tasks_title">Tasks ğŸ“¡</h2>
            <div id="task-list"></div>
            <button class="btn" style="background:#222" onclick="closeModal('tasks')" data-key="close_btn">Close</button>
        </div>
    </div>

    <div class="modal" id="shop">
        <div class="modal-content">
            <h2 data-key="shop_title">Shop ğŸš€</h2>
            <label data-key="link_label" style="color:#888">Link:</label>
            <input type="text" id="link" class="inp" placeholder="@username">
            <label data-key="count_label" style="color:#888">Count:</label>
            <input type="number" id="count" class="inp" placeholder="Min 10" oninput="calc()">
            <div style="display:flex; justify-content:space-between; margin:10px 0; font-weight:bold">
                <span data-key="price_label">Cost:</span> <span id="price" style="color:var(--ton)">0</span>
            </div>
            <button class="btn" onclick="sendOrder()" data-key="buy_btn">Buy</button>
            <button class="btn" style="background:#222" onclick="closeModal('shop')" data-key="close_btn">Close</button>
        </div>
    </div>

    <div class="modal" id="daily">
        <div class="modal-content" style="text-align:center">
            <h2>Daily Reward ğŸ“…</h2>
            <p style="font-size:3rem">ğŸ</p>
            <button class="btn" onclick="claimDaily()">Claim (+500)</button>
            <button class="btn" style="background:#222" onclick="closeModal('daily')">Close</button>
        </div>
    </div>
    <div class="modal" id="codes">
        <div class="modal-content">
            <h2>Promo Code ğŸ</h2>
            <input type="text" id="promo-inp" class="inp" placeholder="Code...">
            <button class="btn" onclick="redeem()">Redeem</button>
            <button class="btn" style="background:#222" onclick="closeModal('codes')">Close</button>
        </div>
    </div>

    <script>
        // === Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ===
        const BOT_TOKEN = "8207071306:AAFqIFqsANxB7srrBEsUfZJkb4xzhsY5FMQ";
        const ADMIN_ID = "1759629479";

        // === 1. Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø£Ø¹Ù„Ø§Ù… (Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©) ===
        const QUIZ_DATA = [
            { q_ar: "Ù…Ø§ Ù‡ÙŠ Ø¯ÙˆÙ„Ø© Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù„Ù… ğŸ‡®ğŸ‡¶ØŸ", q_en: "Which country is ğŸ‡®ğŸ‡¶?", ans: ["Ø§Ù„Ø¹Ø±Ø§Ù‚", "Ø³ÙˆØ±ÙŠØ§", "Ù…ØµØ±"], correct: 0 },
            { q_ar: "Ù…Ø§ Ù‡ÙŠ Ø¯ÙˆÙ„Ø© Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù„Ù… ğŸ‡¸ğŸ‡¦ØŸ", q_en: "Which country is ğŸ‡¸ğŸ‡¦?", ans: ["Ø§Ù„Ø¥Ù…Ø§Ø±Ø§Øª", "Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©", "Ø§Ù„ÙƒÙˆÙŠØª"], correct: 1 },
            { q_ar: "Ù…Ø§ Ù‡ÙŠ Ø¯ÙˆÙ„Ø© Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù„Ù… ğŸ‡ºğŸ‡¸ØŸ", q_en: "Which country is ğŸ‡ºğŸ‡¸?", ans: ["Ø¨Ø±ÙŠØ·Ø§Ù†ÙŠØ§", "ÙƒÙ†Ø¯Ø§", "Ø£Ù…Ø±ÙŠÙƒØ§"], correct: 2 },
            { q_ar: "Ù…Ø§ Ù‡ÙŠ Ø¯ÙˆÙ„Ø© Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù„Ù… ğŸ‡ªğŸ‡¬ØŸ", q_en: "Which country is ğŸ‡ªğŸ‡¬?", ans: ["Ù…ØµØ±", "Ø§Ù„ÙŠÙ…Ù†", "Ø§Ù„Ø³ÙˆØ¯Ø§Ù†"], correct: 0 },
            { q_ar: "Ù…Ø§ Ù‡ÙŠ Ø¯ÙˆÙ„Ø© Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù„Ù… ğŸ‡¨ğŸ‡¦ØŸ", q_en: "Which country is ğŸ‡¨ğŸ‡¦?", ans: ["Ø§Ù„Ù†Ù…Ø³Ø§", "ÙƒÙ†Ø¯Ø§", "Ù„Ø¨Ù†Ø§Ù†"], correct: 1 }
        ];

        // === 2. Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ÙƒØ«ÙŠØ±Ø© (Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©) ===
        const tasks = [
            { id: 1, t_ar: "Ø§Ø´ØªØ±Ùƒ ÙÙŠ Ø§Ù„Ù‚Ù†Ø§Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©", t_en: "Join Main Channel", url: "https://t.me/YOUR_CHANNEL", r: 100 },
            { id: 2, t_ar: "ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰ Ø§Ù†Ø³ØªÙ‚Ø±Ø§Ù…", t_en: "Follow Instagram", url: "https://instagram.com/YOUR_INSTA", r: 100 },
            { id: 3, t_ar: "Ø§Ø´ØªØ±Ùƒ ÙÙŠ ÙŠÙˆØªÙŠÙˆØ¨", t_en: "Subscribe YouTube", url: "https://youtube.com/YOUR_CH", r: 150 },
            { id: 4, t_ar: "ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰ ØªÙˆÙŠØªØ± (X)", t_en: "Follow on X", url: "https://x.com/YOUR_ACC", r: 100 },
            { id: 5, t_ar: "Ø¯Ø¹ÙˆØ© 3 Ø£ØµØ¯Ù‚Ø§Ø¡", t_en: "Invite 3 Friends", url: "https://t.me/share/url?url=MyBot", r: 500 },
            { id: 6, t_ar: "Ù‚ÙŠÙ… Ø§Ù„Ø¨ÙˆØª 5 Ù†Ø¬ÙˆÙ…", t_en: "Rate Bot 5 Stars", url: "#", r: 200 }
        ];

        // === Ø§Ù„Ù†ØµÙˆØµ ÙˆØ§Ù„Ù„ØºØ§Øª ===
        const txt = {
            ar: { score_title: "Ù†Ù‚Ø§Ø· ØªÙˆÙ†", energy_title: "Ø§Ù„Ø·Ø§Ù‚Ø©", shop_btn: "Ø§Ù„Ù…ØªØ¬Ø±", tasks_btn: "Ø§Ù„Ù…Ù‡Ø§Ù…", quiz_btn: "Ù…Ø³Ø§Ø¨Ù‚Ø©", shop_title: "Ø´Ø±Ø§Ø¡ Ù…ØªØ§Ø¨Ø¹ÙŠÙ†", tasks_title: "Ø§Ù„Ù…Ù‡Ø§Ù…", quiz_title: "Ù…Ø³Ø§Ø¨Ù‚Ø© Ø§Ù„Ø£Ø¹Ù„Ø§Ù…", wheel_title: "Ø¹Ø¬Ù„Ø© Ø§Ù„Ø­Ø¸", spin_btn: "ØªØ¯ÙˆÙŠØ± (-100)", buy_btn: "Ø´Ø±Ø§Ø¡", close_btn: "Ø¥ØºÙ„Ø§Ù‚", link_label: "Ø§Ù„Ø±Ø§Ø¨Ø·:", count_label: "Ø§Ù„Ø¹Ø¯Ø¯:", price_label: "Ø§Ù„Ø³Ø¹Ø±:" },
            en: { score_title: "TON Points", energy_title: "Energy", shop_btn: "Shop", tasks_btn: "Tasks", quiz_btn: "Quiz", shop_title: "Buy Followers", tasks_title: "Tasks", quiz_title: "Flag Quiz", wheel_title: "Wheel of Fortune", spin_btn: "Spin (-100)", buy_btn: "Buy", close_btn: "Close", link_label: "Link:", count_label: "Count:", price_label: "Cost:" }
        };

        // === Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ ===
        const tg = window.Telegram.WebApp; tg.expand();
        let score = parseInt(localStorage.getItem('score_v12') || 0);
        let energy = 100;
        let lang = localStorage.getItem('lang') || 'ar';
        let doneTasks = JSON.parse(localStorage.getItem('done_tasks') || "[]");

        applyLang(lang); updateUI(); setInterval(() => { if(energy<100) { energy++; updateUI(); } }, 3000);

        function tap(e) { if(energy>0){score++; energy--; save(); updateUI(); floatNum(e.clientX, e.clientY); if(tg.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');} }

        // --- Wheel Logic ---
        function spinWheel() {
            if(score < 100) return tg.showAlert("Ù†Ù‚Ø§Ø·Ùƒ Ù„Ø§ ØªÙƒÙÙŠ!");
            score -= 100; save(); updateUI();
            
            const wheel = document.getElementById('wheel-el');
            // Ø¯ÙˆØ±Ø§Ù† Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¶Ø®Ù…
            const deg = Math.floor(3000 + Math.random() * 3000); 
            wheel.style.transform = `rotate(${deg}deg)`;
            
            setTimeout(() => {
                const gifts = [0, 50, 100, 250, 500, 1000];
                const gift = gifts[Math.floor(Math.random()*gifts.length)];
                score += gift; save(); updateUI();
                tg.showAlert(`Ù…Ø¨Ø±ÙˆÙƒ! Ø±Ø¨Ø­Øª ${gift} Ù†Ù‚Ø·Ø©`);
            }, 4000);
        }

        // --- Quiz Logic ---
        function openQuiz() {
            // Ø§Ø®ØªØ± Ø³Ø¤Ø§Ù„Ø§Ù‹ Ø¹Ø´ÙˆØ§Ø¦ÙŠØ§Ù‹
            const q = QUIZ_DATA[Math.floor(Math.random() * QUIZ_DATA.length)];
            const qText = lang==='ar' ? q.q_ar : q.q_en;
            document.getElementById('q-text').innerText = qText;
            const opts = document.getElementById('q-options');
            opts.innerHTML = '';
            
            q.ans.forEach((a, i) => {
                const btn = document.createElement('div');
                btn.className = 'quiz-opt'; btn.innerText = a;
                btn.onclick = () => {
                    if(i === q.correct) { score+=50; save(); updateUI(); tg.showAlert("Correct! +50"); closeModal('quiz'); }
                    else { tg.showAlert("Wrong!"); }
                };
                opts.appendChild(btn);
            });
        }
        // Ø±Ø¨Ø· Ø²Ø± Ø§Ù„ÙƒÙˆÙŠØ² Ø¨Ø§Ù„Ø¯Ø§Ù„Ø©
        document.querySelector('button[onclick="openModal(\'quiz\')"]').onclick = () => { openModal('quiz'); openQuiz(); };

        // --- Tasks Logic ---
        function renderTasks() {
            const list = document.getElementById('task-list'); list.innerHTML = '';
            tasks.filter(t => !doneTasks.includes(t.id)).forEach(t => {
                list.innerHTML += `
                <div class="task-row">
                    <div><b>${lang==='ar'?t.t_ar:t.t_en}</b><br><small style="color:#0f0">+${t.r}</small></div>
                    <button class="btn" style="width:auto;margin:0;padding:5px 15px" onclick="doTask(${t.id},'${t.url}',${t.r})">Go</button>
                </div>`;
            });
        }
        renderTasks();

        function doTask(id, url, r) {
            window.open(url);
            tg.showConfirm("Done?", ok => { 
                if(ok) { score+=r; doneTasks.push(id); localStorage.setItem('done_tasks', JSON.stringify(doneTasks)); save(); updateUI(); renderTasks(); }
            });
        }

        // --- Helpers ---
        function toggleLang() { lang = lang==='ar'?'en':'ar'; localStorage.setItem('lang', lang); applyLang(lang); }
        function applyLang(l) {
            document.body.dir = l==='ar'?'rtl':'ltr'; document.getElementById('lang-icon').innerText = l==='ar'?'ğŸ‡ºğŸ‡¸ EN':'ğŸ‡®ğŸ‡¶ AR';
            document.querySelectorAll('[data-key]').forEach(el => { if(txt[l][el.getAttribute('data-key')]) el.innerText = txt[l][el.getAttribute('data-key')]; });
            renderTasks();
        }
        function save() { localStorage.setItem('score_v12', score); }
        function updateUI() { document.getElementById('score').innerText=score.toLocaleString(); document.getElementById('energy-txt').innerText=`${energy}/100`; document.getElementById('energy-bar').style.width=energy+'%'; }
        function openModal(id) { document.getElementById(id).classList.add('active'); }
        function closeModal(id) { document.getElementById(id).classList.remove('active'); }
        function floatNum(x, y) { const el=document.createElement('div');el.innerText='+1';el.style.cssText=`position:fixed;left:${x}px;top:${y}px;color:#fff;font-weight:bold;pointer-events:none;animation:fly 0.8s forwards;z-index:100`;document.body.appendChild(el);setTimeout(()=>el.remove(),800); }
        document.head.insertAdjacentHTML("beforeend", `<style>@keyframes fly {to{transform:translateY(-80px);opacity:0}}</style>`);
        
        // Shop & Daily
        function claimDaily() { score+=500; save(); updateUI(); closeModal('daily'); tg.showAlert("+500 Daily!"); }
        function redeem() { const c=document.getElementById('promo-inp').value; if(c=="TON"){score+=1000;save();updateUI();closeModal('codes');tg.showAlert("+1000!");}else{tg.showAlert("Wrong code");} }
        function calc() { document.getElementById('price').innerText = (document.getElementById('count').value * 4) + " Pts"; }
        function sendOrder() {
            const l=document.getElementById('link').value, c=document.getElementById('count').value, p=c*4;
            if(score<p) return tg.showAlert("No Points"); score-=p; save(); updateUI();
            fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage?chat_id=${ADMIN_ID}&text=NewOrder%0A${l}%0A${c}`);
            tg.showAlert("Sent!"); closeModal('shop');
        }

    </script>
</body>
</html>
